{"version":3,"file":"index.js","sources":["../../src/pinia/useGenericPinia.ts"],"sourcesContent":["import type { StorageItemKey } from '@wxt-dev/storage'\nimport { defineStore } from 'pinia'\n\nimport { useGenericStore, type UpdateStateFn } from '../composables/useGenericStore'\n\n//\n// useGnericStoreでstateを作成するパターン\n//\n//export const useStoredModal = () => {\n//  return useGenericStore<ModalState, ModalUpdateEvent>(\n//    'local:modalState', getDefaultState, deserialize, serealize, updateStateLogic\n//  )\n//}\n\n//\n//\n// useGenericPiniaでstateを作成するパターン\n//\n//export const usePiniaModal = useGenericPinia<ModalState, ModalUpdateEvent>(\n//  'local:modalState', getDefaultState, deserialize, serealize, updateStateLogic\n//)\n\nexport const useGenericPinia = <S, E>(\n  key: StorageItemKey,\n  getDefaultState: () => S,\n  deserialize: (json: string) => S,\n  serialize: (state: S) => string,\n  updateStateLogic: UpdateStateFn<S, E>\n) =>\n  defineStore(key, () => {\n    const { state, updateState } = useGenericStore(\n      key, getDefaultState, deserialize, serialize, updateStateLogic\n    )\n    return { state, updateState }\n  })"],"names":[],"mappings":";;;AAsBO,MAAM,eAAA,GAAkB,CAC7B,GAAA,EACA,eAAA,EACA,aACA,SAAA,EACA,gBAAA,KAEA,WAAA,CAAY,GAAA,EAAK,MAAM;AACrB,EAAA,MAAM,EAAE,KAAA,EAAO,WAAA,EAAY,GAAI,eAAA;AAAA,IAC7B,GAAA;AAAA,IAAK,eAAA;AAAA,IAAiB,WAAA;AAAA,IAAa,SAAA;AAAA,IAAW;AAAA,GAChD;AACA,EAAA,OAAO,EAAE,OAAO,WAAA,EAAY;AAC9B,CAAC;;;;"}