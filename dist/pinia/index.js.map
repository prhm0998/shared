{"version":3,"file":"index.js","sources":["../../src/pinia/useGenericPinia.ts"],"sourcesContent":["import type { StorageItemKey } from '@wxt-dev/storage'\r\nimport { defineStore } from 'pinia'\r\n\r\nimport { useGenericStore, type UpdateStateFn } from '../composables/useGenericStore'\r\n\r\n//\r\n// useGnericStoreでstateを作成するパターン\r\n//\r\n//export const useStoredModal = () => {\r\n//  return useGenericStore<ModalState, ModalUpdateEvent>(\r\n//    'local:modalState', getDefaultState, deserialize, serealize, updateStateLogic\r\n//  )\r\n//}\r\n\r\n//\r\n//\r\n// useGenericPiniaでstateを作成するパターン\r\n//\r\n//export const usePiniaModal = useGenericPinia<ModalState, ModalUpdateEvent>(\r\n//  'local:modalState', getDefaultState, deserialize, serealize, updateStateLogic\r\n//)\r\n\r\nexport const useGenericPinia = <S, E>(\r\n  key: StorageItemKey,\r\n  getDefaultState: () => S,\r\n  deserialize: (json: string) => S,\r\n  serialize: (state: S) => string,\r\n  updateStateLogic: UpdateStateFn<S, E>\r\n) =>\r\n  defineStore(key, () => {\r\n    const { state, updateState } = useGenericStore(\r\n      key, getDefaultState, deserialize, serialize, updateStateLogic\r\n    )\r\n    return { state, updateState }\r\n  })"],"names":[],"mappings":";;;AAsBO,MAAM,eAAA,GAAkB,CAC7B,GAAA,EACA,eAAA,EACA,aACA,SAAA,EACA,gBAAA,KAEA,WAAA,CAAY,GAAA,EAAK,MAAM;AACrB,EAAA,MAAM,EAAE,KAAA,EAAO,WAAA,EAAY,GAAI,eAAA;AAAA,IAC7B,GAAA;AAAA,IAAK,eAAA;AAAA,IAAiB,WAAA;AAAA,IAAa,SAAA;AAAA,IAAW;AAAA,GAChD;AACA,EAAA,OAAO,EAAE,OAAO,WAAA,EAAY;AAC9B,CAAC;;;;"}